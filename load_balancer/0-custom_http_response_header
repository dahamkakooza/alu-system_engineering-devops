#!/usr/bin/env bash
# This script installs Nginx and sets up a custom HTTP response header on a new Ubuntu server.

# Install Nginx if it's not already installed
apt-get update
apt-get install -y nginx

# Set hostname variable
HOSTNAME=$(hostname)

# Configure Nginx to add custom header
echo "server {
    listen 80 default_server;
    listen [::]:80 default_server;
    server_name _;
    root /var/www/html;
    index index.html;
    
    # Add custom header
    add_header X-Served-By \"$HOSTNAME\";
}" > /etc/nginx/sites-available/default

# Restart Nginx to apply changes
systemctl restart nginx

